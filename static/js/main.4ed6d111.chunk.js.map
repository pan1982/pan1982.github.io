{"version":3,"sources":["users/User.js","App.js","reportWebVitals.js","index.js"],"names":["User","props","userData","repos","fetchRepos","useState","repoName","setRepoName","userRepos","setUserRepos","isInitialMount","useRef","useEffect","current","filter","repo","name","includes","className","Row","Col","sm","src","avatar_url","alt","email","location","created_at","followers","following","bio","Form","FormGroup","Input","onChange","e","target","value","placeholder","disabled","length","map","href","html_url","rel","forks","stargazers_count","id","public_repos","Spinner","type","color","gitHubURL","process","gitHubToken","App","userName","setUserName","users","setUsers","activeUser","setActiveUser","isOpen","setIsOpen","window","innerWidth","screenWidth","setScreenWidth","isUsersLoading","setIsUsersLoading","setRepos","fetch","repos_url","headers","then","response","json","data","addEventListener","url","usersFull","list","items","forEach","user","a","login","fetchResult","push","Container","md","onClick","Collapse","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","Fragment","document","getElementById"],"mappings":"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","file":"static/js/main.4ed6d111.chunk.js","sourcesContent":["import React, {useEffect, useState, useRef} from 'react';\r\nimport { \r\n  Collapse, \r\n  Form, \r\n  FormGroup, \r\n  Label, \r\n  Input,\r\n  Row,\r\n  Col,\r\n  Spinner\r\n} from 'reactstrap';\r\nimport '../App.css';\r\n\r\nconst gitHubURL = process.env.REACT_APP_GITHUB_URL;\r\nconst gitHubToken = process.env.REACT_APP_API_TOKEN;\r\n\r\nfunction User(props) {\r\n    const { userData, repos, fetchRepos } = props;\r\n    const [repoName, setRepoName] = useState('');\r\n    const [userRepos, setUserRepos] = useState(repos);\r\n\r\n    const isInitialMount = useRef(true);\r\n\r\n    useEffect(() => {\r\n        fetchRepos(userData);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (isInitialMount.current) {\r\n            isInitialMount.current = false;\r\n         } else {\r\n            setUserRepos(repos);\r\n         }    // your update codes goes here\r\n    });\r\n\r\n    useEffect(() => {\r\n        setUserRepos(repos.filter((repo => repo.name.includes(repoName) )));\r\n    }, [repoName]);\r\n\r\n    return (\r\n        <div className=\"df fdc jcc w100\">\r\n            <Row className=\"df user-features-block\">\r\n                <Col sm=\"4\" className=\"user-avatar-block\"><img className=\"user-avatar\" src={userData.avatar_url} alt=\"avatar\"/></Col>\r\n                <Col sm=\"8\" className=\"user-features\">\r\n                    <span>Name: <b>{userData.name}</b></span>\r\n                    <span>Email: <b>{userData.email}</b></span>\r\n                    <span>Location: <b>{userData.location}</b></span>\r\n                    <span>Join Date: <b>{userData.created_at}</b></span>\r\n                    <span>Followers: <b>{userData.followers}</b></span>\r\n                    <span>Following: <b>{userData.following}</b></span>\r\n                </Col>\r\n            </Row>\r\n            {userData.bio && \r\n            <div \r\n                className=\"user-bio\"\r\n            >{userData.bio}\r\n            </div>}\r\n            <Form>\r\n                <FormGroup>\r\n                    <Input \r\n                        onChange={(e) => setRepoName(e.target.value)} \r\n                        value={repoName} \r\n                        placeholder=\"Search for User's Repo\"\r\n                        disabled={userRepos.length === 0}\r\n                    />\r\n                </FormGroup>\r\n            </Form>\r\n            {userRepos.length ? userRepos.filter((repo => repo.name.includes(repoName))).map(repo => {\r\n                return (\r\n                <div key={repo.id} className=\"repo-data df jcsb dfaic\">\r\n                    <div><a href={repo.html_url} target=\"_blank\" rel=\"noreferrer\">{repo.name}</a></div>\r\n                    <div>\r\n                        <span>{repo.forks} Forks</span>\r\n                        <span>{repo.stargazers_count} Stars</span>\r\n                    </div>\r\n                </div>)\r\n            }) : (\r\n                userData.public_repos > 0 && <Spinner type=\"grow\" color=\"secondary\" />\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default User;","import React, {useEffect, useState} from 'react';\nimport { \n  Collapse, \n  Form, \n  FormGroup, \n  Label, \n  Input,\n  Container,\n  Row,\n  Col,\n  Spinner\n} from 'reactstrap';\nimport User from './users/User';\nimport './App.css';\n\nconst gitHubURL = process.env.REACT_APP_GITHUB_URL;\nconst gitHubToken = process.env.REACT_APP_API_TOKEN;\n\n//onClick={toggle} \n\nconst mobileWidth = 767;\n// const fakeUsers = (function() {\n//   const res = [];\n//   for(let i = 1; i < 100; i++) {\n//     res.push({id: i, name: 'Test User' + i, repos: Math.floor(Math.random() * 10)})\n//   }\n//   return res;\n// })()\n\n\nfunction App() {\n  const [userName, setUserName] = useState('');\n  const [users, setUsers] = useState([]);\n  const [activeUser, setActiveUser] = useState();\n  const [isOpen, setIsOpen] = useState(false);\n  const [screenWidth, setScreenWidth]  = useState(window.innerWidth);\n  const [isUsersLoading, setIsUsersLoading] = useState(true);\n  const [repos, setRepos] = useState([]);\n\n\n  const fetchRepos = (userData) => {\n    setRepos([]);\n    fetch(userData.repos_url, {\n        headers: {\n          'Authorization': `token ${gitHubToken}`,\n        }\n    })\n    .then(response => {\n      return response.json();\n    }).then(data => {\n        setRepos(data);\n    });\n  }\n\n  const fetchUsers = (url) => {\n    fetch(`${gitHubURL}${url}`, {\n        headers: {\n          'Authorization': `token ${gitHubToken}`,\n        }\n    })\n    .then(response => {\n      return response.json();\n    }).then(data => {\n      const usersFull = [];\n      const list = data.items || data;\n      list.forEach(async user => {\n        const fetchResult = await fetch(`${gitHubURL}users/${user.login}`, {\n          headers: {\n            'Authorization': `token ${gitHubToken}`,\n          }\n        });\n        const userData = await fetchResult.json();\n        usersFull.push(userData);\n        if (usersFull.length === list.length) {\n          setUsers(usersFull);\n          setIsUsersLoading(false);\n          setActiveUser(usersFull[0]);\n        }\n      });\n    })\n}\n\n  const toggle = () => setIsOpen(!isOpen);\n\n  useEffect(() => {\n    window.addEventListener('resize', () => {\n      setScreenWidth(window.innerWidth);\n    })\n  });\n\n  useEffect(() => {\n      fetchUsers(userName ? `search/users?per_page=50&q=${userName}+in:name+in:login+type:user` : `users?per_page=25`);\n  }, [userName]);\n\n\n  return (\n    <Container>\n      <Row>\n        <Col md=\"6\" className=\"screen users-block\">\n          <Form>\n            <FormGroup>\n              <Input onChange={(e) => setUserName(e.target.value)} value={userName} placeholder=\"Search for Users\"/>\n            </FormGroup>\n          </Form>\n          {!isUsersLoading ? (<div className=\"users-block_items\">\n             {users.map(user => {\n              return (\n                <div \n                  key={user.id} \n                  className={`user-item w100 jcsb df fdc dfaic${activeUser === user ? \" active\" : \"\"}`} \n                  onClick={() => {setActiveUser(user); toggle(); fetchRepos(user);}}\n                >\n                  <div className=\"df dfaic jcsb w100\">\n                    <img className=\"user-avatar\" src={user.avatar_url} alt=\"avatar\"/>\n                    <span>{user.name || user.login}</span>\n                    <span>Repo: {user.public_repos}</span>\n                  </div>\n                  {screenWidth <= mobileWidth &&\n                    <Collapse className=\"w100\" isOpen={isOpen && activeUser === user}>\n                      <User userData={activeUser || users[0] } repos={repos} fetchRepos={fetchRepos}/>\n                    </Collapse>\n                  }\n                </div>\n              );\n            })}\n          </div>) : (\n            <div>\n              <p>Loading ...</p>\n              <Spinner type=\"grow\" color=\"secondary\" />\n            </div>\n            \n          )}\n        </Col>\n      {screenWidth > mobileWidth &&\n          <Col md=\"6\" className=\"screen user-block\">\n          { users.length && <User userData={activeUser || users[0] }  repos={repos} fetchRepos={fetchRepos}/>}\n        </Col>\n      }\n\n      </Row>\n\n      \n    </Container>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <React.Fragment>\n    <App />\n  </React.Fragment>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}