(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{38:function(e,t,n){e.exports=n(73)},43:function(e,t,n){},48:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(19),c=n.n(o),l=(n(43),n(15)),i=n(13),u=n(10),s=n(12),m=n(35),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_FILMS":return t.payload;default:return e}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_ERROR":return t.payload;default:return e}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_FILM_BY_ID":return t.payload;default:return e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_GENRES":return t.payload.genres;default:return e}},E=n(26),v=function(e,t){return{type:e,payload:t}},h=Object(s.c)({movies:d,error:p,movie:f,helper:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{sortBy:"popularity.desc",genre:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SORT":return Object(E.a)({},e,{sortBy:t.payload});case"SET_GENRE":return Object(E.a)({},e,{genre:t.payload});default:return e}},genres:g}),y=function(){return Object(s.d)(h,Object(s.a)(m.a))},_=n(74),b=n(75),S=n(76),w=n(77),O=n(78),R=n(79),k=n(80),G=n(81),B=(n(48),n(17)),j=n.n(B),T="https://api.themoviedb.org/3",M={getFilms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"popularity.desc",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return function(a){j.a.get("".concat(T,"/discover/movie?api_key=5874acfd11651a28c55771624f7021f4&sort_by=").concat(t,"&include_adult=false&include_video=false&page=").concat(n).concat(e?"&with_genres=".concat(e):"")).then(function(e){a(v("GET_FILMS",e.data))}).catch(function(e){a(v("SHOW_ERROR",e.message))})}},getFilmById:function(e){return function(t){j.a.get("".concat(T,"/movie/").concat(e,"?api_key=5874acfd11651a28c55771624f7021f4&language=en-US")).then(function(e){t(v("GET_FILM_BY_ID",e.data))}).catch(function(e){t(v("SHOW_ERROR",e.message))})}},searchFilms:function(e){return function(t){j.a.get("".concat(T,"/search/multi?api_key=5874acfd11651a28c55771624f7021f4&language=en-US&query=").concat(e,"&page=1&include_adult=false")).then(function(e){t(v("GET_FILM_BY_ID",e.data))}).catch(function(e){t(v("SHOW_ERROR",e.message))})}},getGenres:function(){return function(e){j.a.get("".concat(T,"/genre/movie/list?api_key=5874acfd11651a28c55771624f7021f4&language=en-US")).then(function(t){e(v("GET_GENRES",t.data))}).catch(function(t){e(v("SHOW_ERROR",t.message))})}}};var I=Object(u.b)(function(e){return{helper:e.helper,genres:e.genres}},function(e){return{changeSort:function(t){e(function(e){return function(t){t(v("SET_SORT",e))}}(t))},updateGenre:function(t){e(function(e){return function(t){t(v("SET_GENRE",e))}}(t))},getGenres:function(){e(M.getGenres())},getMovies:function(t,n,a){e(M.getFilms(t,n,a))}}})(function(e){var t=e.changeSort,n=e.helper,o=e.updateGenre,c=e.genres,l=e.getGenres,i=e.getMovies;return Object(a.useEffect)(function(){l()},[]),r.a.createElement(_.a,{color:"dark"},r.a.createElement(b.a,null,"The Movie DB"),r.a.createElement(S.a,null,r.a.createElement(w.a,null,r.a.createElement(O.a,{inline:!0,className:"nav-filter"},r.a.createElement(R.a,null,r.a.createElement(k.a,{for:"sort"},"Genre:"),r.a.createElement(G.a,{type:"select",name:"select",id:"exampleSelect",value:n.genre,onChange:function(e){return t=e.target.value,void o(t);var t}},c.map(function(e){return r.a.createElement("option",{key:e.id},e.name)}))),r.a.createElement(R.a,null,r.a.createElement(k.a,{for:"sort"},"Sort:"),r.a.createElement(G.a,{type:"select",name:"select",id:"exampleSelect",value:n.sortBy,onChange:function(e){return a=e.target.value,t(a),void i(n.genre,a);var a}},r.a.createElement("option",null,"popularity.asc"),r.a.createElement("option",null,"popularity.desc"),r.a.createElement("option",null,"release_date.asc"),r.a.createElement("option",null,"release_date.desc"),r.a.createElement("option",null,"revenue.asc"),r.a.createElement("option",null,"revenue.desc"),r.a.createElement("option",null,"primary_release_date.asc"),r.a.createElement("option",null,"primary_release_date.desc"),r.a.createElement("option",null,"original_title.asc"),r.a.createElement("option",null,"original_title.desc"),r.a.createElement("option",null,"vote_average.asc"),r.a.createElement("option",null,"vote_average.desc"),r.a.createElement("option",null,"vote_count.asc"),r.a.createElement("option",null,"vote_count.desc")))))))});var N=function(){return r.a.createElement("footer",null,r.a.createElement(O.a,null,r.a.createElement(R.a,null,r.a.createElement(k.a,{for:"footer"},"Popovych Alex. Web developer(React-Redux)"))))},x=n(82),P=n(83),F=n(84),A=n(85);var W=Object(u.b)(function(e){return{helper:e.helper}})(function(e){var t=e.movies,n=e.getMovies,a=e.helper,o=document.querySelector("body");return o.style.backgroundImage="url(https://itsshowtimenj.files.wordpress.com/2013/10/abstractdesktop-astounding-wood-background-wallpaper-backgrounds.jpg)",o.style.backgroundAttachment="fixed",document.querySelector("footer").style.position="relative",document.querySelector("footer").style.bottom="0px",r.a.createElement("div",null,t.results.map(function(e){return r.a.createElement("div",{className:"container-panel",key:e.id},r.a.createElement(x.a,null,r.a.createElement(P.a,null,r.a.createElement(F.a,{sm:3},r.a.createElement(l.b,{to:"/films/".concat(e.id)},r.a.createElement("img",{src:"".concat("https://image.tmdb.org/t/p/w154").concat(e.poster_path),alt:"poster"}))),r.a.createElement(F.a,{sm:9},r.a.createElement(l.b,{to:"/films/".concat(e.id)},r.a.createElement("h4",null,e.title))))))}),r.a.createElement(x.a,{className:"paggination"},r.a.createElement(P.a,null,r.a.createElement(F.a,{sm:4,className:"d-flex justify-content-center"},r.a.createElement(A.a,{disabled:1===t.page,onClick:function(){return n(a.genre,a.sortBy,t.page-1)}},r.a.createElement("i",{className:"fas fa-arrow-left"})," ","PREVIOUS PAGE"," ")),r.a.createElement(F.a,{sm:4,className:"d-flex justify-content-center"},"CURRENT PAGE ",t.page," TOTAL PAGES ",t.total_pages),r.a.createElement(F.a,{sm:4,className:"d-flex justify-content-center"},r.a.createElement(A.a,{disabled:t.page===t.total_pages,onClick:function(){return n(a.genre,a.sortBy,t.page+1)}}," ","NEXT PAGE"," ",r.a.createElement("i",{className:"fas fa-arrow-right"}))))))});var q=Object(u.b)(function(e){return{movies:e.movies,error:e.error,helper:e.helper}},function(e){return{getMovies:function(t,n,a){e(M.getFilms(t,n,a))}}})(function(e){var t=e.movies,n=e.getMovies,o=e.helper,c=Object.prototype.hasOwnProperty.call(t,"results");return Object(a.useEffect)(function(){n(o.genres,o.sortBy,o.page)},[]),r.a.createElement("div",null,c&&r.a.createElement(W,{movies:t,getMovies:n}))});var L=Object(u.b)(function(e){return{movie:e.movie}},function(e){return{getMovie:function(t){e(M.getFilmById(t))}}})(function(e){var t,n=e.movie,o=e.getMovie,c=e.match.params;t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent)?"w154":"w342";var l="https://image.tmdb.org/t/p/".concat(t).concat(n.poster_path);return document.querySelector("body").style.backgroundImage="url(https://image.tmdb.org/t/p/original".concat(n.backdrop_path,")"),document.querySelector("footer").style.position="absolute",document.querySelector("footer").style.bottom="0px",Object(a.useEffect)(function(){o(c.id)},[]),+c.id===n.id&&r.a.createElement("div",null,r.a.createElement("div",{className:"container-panel"},r.a.createElement("img",{src:"".concat(l),alt:"poster"})))}),C=y();var H=function(){return r.a.createElement(l.a,null,r.a.createElement(u.a,{store:C},r.a.createElement("div",null,r.a.createElement(I,null),r.a.createElement(i.b,{exact:!0,path:"/",render:function(){return r.a.createElement(i.a,{to:"/films"})}}),r.a.createElement(i.b,{exact:!0,path:"/films",render:function(){return r.a.createElement(q,{type:"movie"})}}),r.a.createElement(i.b,{path:"/films/:id",component:L}),r.a.createElement(N,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[38,1,2]]]);
//# sourceMappingURL=main.7ee2224f.chunk.js.map